const navToggle=document.querySelector(".nav__toggle"),navWrapper=document.querySelector(".nav__wrapper"),navIcon=document.querySelector(".nav__icon"),header=document.querySelector(".site-header");let scrollpos=window.scrollY;function add_class_on_scroll(){header.classList.add("scrollable")}function remove_class_on_scroll(){header.classList.remove("scrollable")}navToggle.addEventListener("click",(function(){navWrapper.classList.contains("active")?(this.setAttribute("aria-expanded","false"),this.setAttribute("aria-label","menu"),navWrapper.classList.remove("active"),navIcon.classList.remove("open"),document.body.style.overflow="",document.ontouchmove=function(e){return!0}):(navWrapper.classList.add("active"),this.setAttribute("aria-label","close menu"),this.setAttribute("aria-expanded","true"),navIcon.classList.add("open"),document.body.style.overflow="hidden",document.ontouchmove=function(e){e.preventDefault})})),navWrapper.addEventListener("click",()=>{document.body.style.overflow="",navWrapper.classList.remove("active"),navIcon.classList.remove("open")}),window.addEventListener("scroll",(function(){scrollpos=window.scrollY,scrollpos>400?add_class_on_scroll():remove_class_on_scroll()}));const casesSlider=new Swiper(".cases-slider",{direction:"horizontal",speed:800,loop:!0,pagination:{el:".cases-slider__pagination",type:"fraction"},navigation:{nextEl:".cases-slider__next",prevEl:".cases-slider__prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:0},576:{slidesPerView:1.2,spaceBetween:20},992:{slidesPerView:1.2,spaceBetween:50}}}),breakpoint=window.matchMedia("(min-width:992px)");let mySwiper;const breakpointChecker=function(){return!0===breakpoint.matches?(void 0!==mySwiper&&mySwiper.destroy(!0,!0),document.querySelector(".process__list").classList.remove("swiper-wrapper"),document.querySelector(".process__list").classList.add("process__list"),void document.querySelector(".process-slider").classList.remove("swiper-container")):!1===breakpoint.matches?(document.querySelector(".process__list").classList.add("swiper-wrapper"),document.querySelector(".process__list").classList.remove("process__list"),document.querySelector(".process-slider").classList.add("swiper-container"),enableSwiper()):void 0},enableSwiper=function(){mySwiper=new Swiper(".process-slider",{grabCursor:!0,slidesPerView:1,spaceBetween:40})};function parallax(e){window.innerWidth>1024&&this.querySelectorAll(".layer").forEach(t=>{const r=t.getAttribute("data-speed"),s=(window.innerWidth-e.pageX*r)/100,n=(window.innerHeight-e.pageY*r)/100;t.style.transform=`translateX(${s}px) translateY(${n}px)`})}breakpoint.addListener(breakpointChecker),breakpointChecker(),document.addEventListener("mousemove",parallax);const phoneInput=document.querySelectorAll('input[type="tel"]'),im=new Inputmask("+7 (999) 999-99-99");im.mask(phoneInput);let validateForms=function(e,t,r,s){new window.JustValidate(e,{rules:t,messages:{name:{required:"Обязательное поле"},tel:{required:"Обязательное поле"}},submitHandler:function(e){let t=new FormData(e),r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status&&alert("Ваши данные успешно отправлены")},r.open("POST","mail.php",!0),r.send(t),e.reset()}})};validateForms(".form",{tel:{required:!0},name:{required:!0}},".thanks-popup","send goal"),validateForms(".modal_form",{tel:{required:!0},name:{required:!0}},".thanks-popup","send goal");var scroll=new SmoothScroll('a[href*="#"]');const myModal=new HystModal({linkAttributeName:"data-hystmodal"});document.querySelectorAll(".form__field").forEach(e=>{e.addEventListener("focus",()=>{e.parentElement.querySelector("span").style.opacity="1"}),e.addEventListener("blur",()=>{e.parentElement.querySelector("span").style.opacity=""})});